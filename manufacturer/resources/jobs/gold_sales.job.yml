resources:
  jobs:
    gold_sales:
      name: gold_sales
      trigger:
        pause_status: PAUSED
        table_update:
          table_names:
            - dev.02_silver.inventory_mv
            - dev.02_silver.product_mv
            - dev.02_silver.consumer_orders_mv
            - dev.02_silver.distributor_sale_order_mv
            - dev.02_silver.consumer_mv
            - dev.02_silver.distributor_mv
          condition: ANY_UPDATED
      tasks:
        - task_key: gold_sales_notebook
          notebook_task:
            notebook_path: ../../src/gold_sales/gold.ipynb
            base_parameters:
              catalog: ${var.catalog}
              silver_schema: ${var.silver}
              gold_schema: ${var.gold_product}

      queue:
        enabled: true
      performance_target: PERFORMANCE_OPTIMIZED

